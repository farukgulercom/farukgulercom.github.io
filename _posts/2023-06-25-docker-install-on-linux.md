---
layout: post
title: Docker Install on Linux - Linux'ta Docker Kurulumu
date: 2023-06-25 00:27
author: theguler
comments: true
categories: [Containerization]
---
<!-- wp:image {"id":11406,"width":"503px","height":"auto","sizeSlug":"large","linkDestination":"none"} -->
<figure class="wp-block-image size-large is-resized"><img src="https://theguler.wordpress.com/wp-content/uploads/2024/04/dockerforlnx.png?w=1024" alt="" class="wp-image-11406" style="width:503px;height:auto" /></figure>
<!-- /wp:image -->

<!-- wp:heading -->
<h2 class="wp-block-heading"><strong>Docker (CE) ve (EE) Hakkında.</strong></h2>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>Docker Community Edition (CE):</strong> Dockerin ücretsiz ve açık kaynaklı topluluk sürümüdür. Bu sürüm, Docker'ın temel özelliklerini sunar ve birçok kullanıcının ihtiyaçlarını karşılar. Docker Community Edition, Docker'ın çeşitli platformlarda kullanılabilmesine olanak tanır ve Linux, macOS ve Windows işletim sistemleri dahil olmak üzere birçok platformda çalışabilir. Ayrıca, Docker Compose, Docker Swarm ve Docker CLI gibi araçları da içerir.</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>Docker Enterprise Edition (EE)</strong>: Docker'ın ücretli sürümüdür, işletme düzeyinde daha fazla özellik sunar ve özellikle büyük ölçekli ve karmaşık uygulamaları yönetmek için tasarlanmıştır. Ancak, Docker Community Edition'ın sunduğu özellikler, birçok kullanıcının ihtiyaçlarını karşılayabilir ve ücretsiz olarak kullanılabilir.</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>Aşağıdaki adımlarla Linux üzerinde <strong>Docker Engine Community(CE)&nbsp;</strong>'ı kurabilir ve yönetebilirsiniz:</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted"><strong>#Docker'i yükleyin:</strong><br>https://docs.docker.com/engine/<br>https://docs.docker.com/engine/install/<br><br>#Docker'ı başlatın:<br><strong>systemctl start docker</strong><br><br><strong>#</strong>Docker'ı yeniden başlatmak için:<br><strong>systemctl restart docker</strong><br><br><strong>#</strong>Docker'ın otomatik olarak başlamasını sağlayın:<br><strong>systemctl enable docker</strong><br><br><strong>#</strong>Docker'ın doğru şekilde yüklendiğinden emin olmak için:<br><strong>docker version</strong><br><strong>docker --version<br>docker -v<br>docker info<br>systemctl status docker</strong><br><br><strong>#</strong>Docker temel Hello Word Uygulması:<br><strong>docker run hello-world</strong><br><br><strong>#</strong>Docker'ı güncellemek için:<br><strong>apt update<br>#apt upgrade</strong><br><br><strong>### Docker Komutları ###</strong><br><strong>#</strong>Docker'i sistem her yeniden başlatıldığında otomatik başlatmak için:<br><strong>systemctl enable --now docker</strong><br><br><strong>#</strong>bu özelliği devre dışı bırakmak istersek:<br><strong>systemctl disable --now docker</strong><br><br><strong>#</strong>Root haricinde Docker Engine'i çalıştırmak için kullanıcımızı Docker yetkili grubuna ekleyelim:<br><strong>sudo usermod -aG docker faruk</strong><br><br><strong>#</strong>Yeni grup üyeliğini kullanıcımızda ve gruplarda görmek için(tek tek):<br><strong>su faruk<br>groups<br>id faruk<br>getent group docker</strong><br><br><strong>#</strong>Mevcut Docker tüm komutları görüntülemek için:<br><strong>docker</strong><br><br><strong>#</strong>Resmi Docker hesabınıza bağlanmak &amp; çıkış yapmak için:<br><strong>docker login<br>docker logout</strong><br><br><strong>#</strong>Docker Hub'da bulunan görüntüleri aramak:<br><strong>docker search alpine<br>docker search httpd<br>--------------</strong>&gt;&gt;&gt;<strong><br></strong><br><strong>#</strong>Resmi docker imajlarını <strong>"hub.docker.com"</strong> üzerinden çekmek için:<br><strong>docker pull ubuntu<br>docker pull httpd <br>docker pull nginx</strong><br>---------------&gt;&gt;<br><br><strong>#</strong>Belirtilen Imajı Docker Huba yüklemek için:<br><strong>docker push geekflare/httpd_image<br></strong><br><strong>#</strong>İndirilen docker imajlarını görmek için:<br><strong>docker images</strong><br><br><strong>#</strong>İmaj geçmişi ve bilgisi için(history):<br><strong>docker history hello-world</strong><br><br><strong>#</strong>İmaj silmek için (rmi):<br><strong>docker rmi hello-world</strong><br><br>***(Bu Komut Docker'da bir imajın artık kullanılmamasını ve disk alanından kaldırılmasını sağlar. Ayrıca, <strong>bu imajı kullanan containerlar varsa, imaj silinemez.</strong> <strong>Öncelikle bu containerları durdurmanız ve silmeniz gerekir.</strong>)<br><br><strong>#</strong>Containeri başlatmak için:<br><strong>docker start "container-id"</strong><br><br><strong>#</strong>Containeri restart etmek için:<br><strong>docker restart "container-id"</strong><br><br><strong>#</strong>Çalışan containeri durdurmak için:<br><strong>docker stop "konteyner-id"</strong><br><br><strong>#</strong>Çalışan tüm Docker konteynerlerini durdurmak için:<br><strong>docker stop $(sudo docker ps -aq)</strong><br><br><strong>#</strong>Containeri duraklatmak için:<br><strong>docker pause "container-id</strong><br><br><strong>#</strong>Duraklamış Containeri devam ettirmek için:<br><strong>docker unpause "container-id</strong><br><br><strong>#</strong>Çalışan containeri zorla durdurmak için (kill):<br><strong>docker kill "container-id"</strong><br><br>Tüm indirilen Docker imajlarını silmek için:<br><strong>docker image prune</strong><br><strong>#docker image prune -a</strong> (varolan-kullanılan tüm imajları siler)<br><br><strong>#### Imajdan Container oluşturma ve Çalıştırma</strong><br><strong>***</strong>İmaj indirildikten sonra Containeri <strong>Yarat &amp; Calistir</strong><br>1: <strong>docker run -p 8080:80 -d httpd</strong><br>2: <strong>docker run --name webserver -p 80:80 httpd</strong><br>3: <strong>docker run --name webserver -p 8091:80 -d httpd</strong><br>4: <strong>docker run -it --name debshell debian:bookworm-slim bash</strong><br>5: <strong>docker run -ti --name atom busybox sh</strong><br>6:<br>7:<br><br>1: (<strong>Bu komut, httpd görüntüsünü kullanarak bir Docker "Containeri" oluşturur ve konteyneri arka planda (-d seçeneği) çalıştırır.</strong> Konteyner, ana bilgisayarınızdaki 8080 portuna (-p seçeneği) yönlendirilir ve <strong>Apache HTTP Serveri,</strong> Docker konteyneri içindeki 8080 portunda çalıştırılır) <strong>(http://localhost:8080)</strong><br><br>#Docker imajınızı Editleyin ("Her container izole olduğu için" shell ile gerekli configleri yapmanız gerekmektedir.<strong>)</strong><br><strong>docker ps</strong><br><strong>docker exec -it 7d479d362e07 bash<br>docker exec -it admiring_keller bash</strong><br><strong>cd htdocs<br>nano index.htm</strong>l<br><br><strong>##### Docker Container #####</strong><br><strong>#</strong>Sadece Çalışan containerleri listelemek için (ps):<br><strong>docker ps<br>docker ps -q --format '{{.ID}} {{.Names}}'</strong><br><br><strong>#</strong>Tüm Container durumlarını listelemek için<br><strong><strong>docker ps -a</strong></strong><br><br>****Belirli bir Containerin portunu değiştirmek için:<strong>"HostPort"</strong><br><strong>docker stop &lt;container_name&gt;</strong><br><strong>cd /var/lib/docker/containers/</strong><br><strong>sudo nano hostconfig.json</strong> <strong>(EDIT: "HostPort":"xxxx")</strong><br><strong>systemctl restart docker</strong><br><strong>docker start "<strong>container_name</strong>"</strong><br><br><strong>#</strong>İçeriklerin Kapsayıcılar ve Dosya Sistemi Arasında Kopyalanması<br><strong>docker cp <strong>"container-id"</strong>:/test_file test_file</strong><br><br><strong>#</strong>Bir Docker container'ının adını değiştirmek için:<br><strong>docker stop "container_name"<br>docker rename "old_name" "new_name"</strong><br><br><strong>#</strong>Container silmek için: ***Çalışan containeri silmek için öncelikle durdurulmalısınız.<br><strong>docker rm "container-id"</strong><br><br>***Tüm containerleri ve kalıntılarını silmek için:<br><strong>#docker rm $(docker ps -aq)<br>#docker system prune</strong><br><br><strong>#</strong>Containerleri ile ilişkili birimleri kaldırmak için:<br><strong>docker rm -v "container-id"</strong><br><br><strong>###Docker Machine###</strong><br><strong>#</strong>Yeni bir Docker host'u oluştur<br><strong>docker-machine create --driver virtualbox my-docker-host</strong><br><br><strong>#</strong>Mevcut Docker host'larını listele<br><strong>docker-machine ls</strong><br><br><strong>#</strong>Belirli bir Docker hostu yönet<br><strong>docker-machine start my-docker-host<br>docker-machine stop my-docker-host<br>docker-machine rm my-docker-host<br>docker-machine ip my-docker-host<br>docker-machine ssh my-docker-host<br>docker-machine status my-docker-host<br>.etc</strong><br><br><strong>##### Docker Networks #####</strong><br>https://docs.docker.com/network/<br>https://docs.docker.com/network/drivers/<br><br><strong>#</strong>Docker Ağları Listeleyin<br><strong>docker network ls</strong><br><strong>NETWORK ID     NAME              DRIVER    SCOPE</strong><br>1d075808d17d   bridge            bridge    local<br>8ca7e7ba3955   docker_gwbridge   bridge    local<br>df16d664448e   host              host      local<br>kw2zazyf52tp   ingress           overlay   swarm<br>fd0cb697dddb   none              null      local<br>5d45dc9fafc0   domain_srv_NET    macvlan   local<br><br>#Networkü varolan bir containere bağla:<br><strong>docker network connect GULER_NET container33</strong><br><br>#Networkün containerle bağlantısını kes:<br><strong>docker network disconnect GULER_NET container33</strong><br><br>Default(Bridge) Ağ Oluşturun:<br>##Default oluşturulan her Container "Bridge" Networke dahil edilir.<br><strong>docker network create GULER_NET</strong><br><br>Spesifik Ağ oluşturun (Driver):<br><strong>docker network create -d overlay ethernet_24S<br>docker network create -d bridge ethernet_sv<br>docker network create -d macvlan ens33</strong><br><br>"domain_srv_NET" adında bir Macvlan ağı oluşturun:<br><strong>docker network create -d macvlan --subnet 10.5.10.0/24 --gateway 10.5.10.1 -o parent=ens33 domain_srv_NET</strong><br><br>"ip_NET" adında bir IPvlan ağı oluşturun:<br><strong>docker network create -d ipvlan --subnet=192.168.1.0/24 --gateway=192.168.1.1 -o ipvlan_mode=l3 -o parent=ens44 ip_NET</strong><br><br><strong>#</strong>Ağlarla İlgili Ayrıntılı Bilgiyi Görüntüleyin:<br><strong>docker network inspect GULER-NET</strong><br><br><strong>#</strong>Ağları Silme:<br><strong>docker network rm GULER-NET</strong><br><br><strong>#</strong>Kullanılmayan Tüm Ağları Silme:<br><strong>docker network prune</strong><br><br><strong>#### Volume ####</strong><br><strong>##Default Directory: /var/lib/docker/volumes/</strong><br><br><strong>#</strong>Volume Oluştur:<br><strong>docker volume create Hold</strong><br><br><strong>#</strong>Volumleri istele:<br><strong>docker volume ls</strong><br><br><strong>#</strong>Docker biriminin (Volume) ayrıntılarını görüntüle:<br><strong>docker volume inspect Hold</strong><br><br><strong>#</strong>Docker Alpine Linux konteyneri oluştur ve Hold volume bağla:<br><strong>docker run -it -v hold:/alanim -d --name alpine_lnx -d alpine</strong><br><br><strong>#</strong>Oluşturulan alpine linuxa bağlan:<br><strong>docker exec -it alpine_lnx sh</strong><br><br><strong>#</strong>Docker File'den yeni bir imaj oluşturmak için:<br><strong>docker image build -t neonlamba -f Dockerfile .</strong><br><br><strong>#</strong>Mevcut Containerden(<strong>web-server</strong>) <strong>"Web"</strong> adında yeni bir imaj oluşturmak için:<br><strong>docker commit web-server vulnscanner</strong><br><br>#Varolan bir imajı local kaydetmek için<br><strong>docker save -o sony.tar</strong><br><br>#Varolan bir imajı olarak localden yüklemek için<br><strong>docker load -i sony.tar</strong><br><br><strong>#</strong>Durdurulan containeri etkileşimli olarak çalıştırmak için (ai):<br><strong>docker start -ai "container-id"</strong><br><br><strong>#</strong>Container hakkında bilgi almak için (inspect):<br><strong>docker inspect "container-id"</strong><br><br><strong>#</strong>Konteynerdeki değişimlerin takibi:<br><strong>docker diff <strong>"container-id"</strong></strong><br><br><strong>#</strong>Çalışan containera ait kaynak kullanımı bilgisi için (stats):<br><strong>docker stats "container"-id"</strong><br><br><strong>#</strong>Log-durum bilgisi için:<br><strong><strong>docker stats</strong> "container-id"</strong><br><strong><strong>docker </strong>top "container-id"</strong><br><strong>docker logs "container-id"<br>docker logs "container-id" --follow<br>docker service logs "container-id"</strong><br><br><strong>#</strong>Docker Ağ Günlüklerini Alın:<br><strong>journalctl -u docker.service</strong><br><br><strong>#### Docker Secret ####</strong><br>Docker secret oluştur:<br><strong>echo "admin44" | docker secret create username -<br>echo "12pass!" | docker secret create dbparola -<br>docker secret ls</strong><br><br><strong>### Docker Stacks ### </strong>(on Swarm)<br>#Stack'i Compose dosyalarından dağıtmak için:<br><strong>docker stack deploy -c stxconf.yml wp_stack</strong><br><br>#Belirli bir stack'i kaldırmak için:<br><strong>docker stack rm "stack-name"</strong><br><br>#Stack'lerin listesini görmek için:<br><strong>docker stack ls</strong></pre>
<!-- /wp:preformatted -->

<!-- wp:paragraph -->
<p><strong>Faydalı olması dileğiyle - Hope it's useful</strong> </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><a href="https://dockerlabs.collabnix.com/docker/cheatsheet/">https://dockerlabs.collabnix.com/docker/cheatsheet/</a></p>
<!-- /wp:paragraph -->
